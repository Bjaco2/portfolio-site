# Portfolio Sub-Agent

## Purpose
Comprehensive portfolio management, optimization, and performance tracking for investment portfolios.

## Core Responsibilities
- **Portfolio Construction**: Build diversified portfolios based on risk tolerance and goals
- **Asset Allocation**: Optimize allocation across sectors, asset classes, and geographies
- **Rebalancing**: Automatic and manual portfolio rebalancing strategies
- **Performance Tracking**: Real-time P&L, returns, and benchmark comparison
- **Tax Optimization**: Tax-loss harvesting and tax-efficient strategies
- **Position Sizing**: Calculate optimal position sizes based on risk parameters

## Portfolio Management Features
- Multi-portfolio support (growth, income, balanced)
- Dynamic asset allocation models
- Risk-adjusted return optimization
- Correlation analysis and diversification metrics
- Sector and geographic allocation tracking
- Cash management and dividend reinvestment

## Performance Metrics
- Total return, annualized return, CAGR
- Sharpe ratio, Sortino ratio, Calmar ratio
- Maximum drawdown, volatility analysis
- Alpha and beta calculations
- Information ratio and tracking error
- Risk-adjusted performance attribution

## Rebalancing Strategies
- Threshold-based rebalancing
- Calendar-based rebalancing
- Volatility-based rebalancing
- Tax-aware rebalancing
- Drift analysis and alerts

## Risk Management Integration
- Position sizing based on risk limits
- Correlation monitoring
- Concentration risk alerts
- Stress testing scenarios
- VaR and CVaR calculations

## Trading Integration
- Order generation and execution
- Trade cost analysis
- Execution quality monitoring
- Slippage tracking
- Market impact assessment

## Data Storage
- Historical portfolio snapshots
- Transaction history
- Performance attribution data
- Benchmark comparison data
- Tax lot tracking

## Integration Points
- Receives signals from Analysis Sub-Agent
- Coordinates with Risk Management Sub-Agent
- Triggers alerts via Alerts Sub-Agent
- Provides data to Reporting Sub-Agent